{"remainingRequest":"E:\\workSpace\\RuoYi-Vue\\ruoyi-ui\\node_modules\\babel-loader\\lib\\index.js!E:\\workSpace\\RuoYi-Vue\\ruoyi-ui\\node_modules\\quill\\formats\\link.js","dependencies":[{"path":"E:\\workSpace\\RuoYi-Vue\\ruoyi-ui\\node_modules\\quill\\formats\\link.js","mtime":1734253479057},{"path":"E:\\workSpace\\RuoYi-Vue\\ruoyi-ui\\babel.config.js","mtime":1734161096606},{"path":"E:\\workSpace\\RuoYi-Vue\\ruoyi-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1734253476057},{"path":"E:\\workSpace\\RuoYi-Vue\\ruoyi-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":1734253476301}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCJFOi93b3JrU3BhY2UvUnVvWWktVnVlL3J1b3lpLXVpL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2ludGVyb3BSZXF1aXJlRGVmYXVsdC5qcyIpLmRlZmF1bHQ7Ck9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsKICB2YWx1ZTogdHJ1ZQp9KTsKZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwOwpleHBvcnRzLnNhbml0aXplID0gX3Nhbml0aXplOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UuanMiKTsKdmFyIF9jbGFzc0NhbGxDaGVjazIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIkU6L3dvcmtTcGFjZS9SdW9ZaS1WdWUvcnVveWktdWkvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2suanMiKSk7CnZhciBfY3JlYXRlQ2xhc3MyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJFOi93b3JrU3BhY2UvUnVvWWktVnVlL3J1b3lpLXVpL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzLmpzIikpOwp2YXIgX2NhbGxTdXBlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIkU6L3dvcmtTcGFjZS9SdW9ZaS1WdWUvcnVveWktdWkvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvY2FsbFN1cGVyLmpzIikpOwp2YXIgX3N1cGVyUHJvcEdldDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIkU6L3dvcmtTcGFjZS9SdW9ZaS1WdWUvcnVveWktdWkvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvc3VwZXJQcm9wR2V0LmpzIikpOwp2YXIgX2luaGVyaXRzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiRTovd29ya1NwYWNlL1J1b1lpLVZ1ZS9ydW95aS11aS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbmhlcml0cy5qcyIpKTsKdmFyIF9kZWZpbmVQcm9wZXJ0eTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIkU6L3dvcmtTcGFjZS9SdW9ZaS1WdWUvcnVveWktdWkvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZGVmaW5lUHJvcGVydHkuanMiKSk7CnZhciBfaW5saW5lID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCIuLi9ibG90cy9pbmxpbmUuanMiKSk7CnZhciBMaW5rID0gZXhwb3J0cy5kZWZhdWx0ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfSW5saW5lKSB7CiAgZnVuY3Rpb24gTGluaygpIHsKICAgICgwLCBfY2xhc3NDYWxsQ2hlY2syLmRlZmF1bHQpKHRoaXMsIExpbmspOwogICAgcmV0dXJuICgwLCBfY2FsbFN1cGVyMi5kZWZhdWx0KSh0aGlzLCBMaW5rLCBhcmd1bWVudHMpOwogIH0KICAoMCwgX2luaGVyaXRzMi5kZWZhdWx0KShMaW5rLCBfSW5saW5lKTsKICByZXR1cm4gKDAsIF9jcmVhdGVDbGFzczIuZGVmYXVsdCkoTGluaywgW3sKICAgIGtleTogImZvcm1hdCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZm9ybWF0KG5hbWUsIHZhbHVlKSB7CiAgICAgIGlmIChuYW1lICE9PSB0aGlzLnN0YXRpY3MuYmxvdE5hbWUgfHwgIXZhbHVlKSB7CiAgICAgICAgKDAsIF9zdXBlclByb3BHZXQyLmRlZmF1bHQpKExpbmssICJmb3JtYXQiLCB0aGlzLCAzKShbbmFtZSwgdmFsdWVdKTsKICAgICAgfSBlbHNlIHsKICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yCiAgICAgICAgdGhpcy5kb21Ob2RlLnNldEF0dHJpYnV0ZSgnaHJlZicsIHRoaXMuY29uc3RydWN0b3Iuc2FuaXRpemUodmFsdWUpKTsKICAgICAgfQogICAgfQogIH1dLCBbewogICAga2V5OiAiY3JlYXRlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGUodmFsdWUpIHsKICAgICAgdmFyIG5vZGUgPSAoMCwgX3N1cGVyUHJvcEdldDIuZGVmYXVsdCkoTGluaywgImNyZWF0ZSIsIHRoaXMsIDIpKFt2YWx1ZV0pOwogICAgICBub2RlLnNldEF0dHJpYnV0ZSgnaHJlZicsIHRoaXMuc2FuaXRpemUodmFsdWUpKTsKICAgICAgbm9kZS5zZXRBdHRyaWJ1dGUoJ3JlbCcsICdub29wZW5lciBub3JlZmVycmVyJyk7CiAgICAgIG5vZGUuc2V0QXR0cmlidXRlKCd0YXJnZXQnLCAnX2JsYW5rJyk7CiAgICAgIHJldHVybiBub2RlOwogICAgfQogIH0sIHsKICAgIGtleTogImZvcm1hdHMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGZvcm1hdHMoZG9tTm9kZSkgewogICAgICByZXR1cm4gZG9tTm9kZS5nZXRBdHRyaWJ1dGUoJ2hyZWYnKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJzYW5pdGl6ZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc2FuaXRpemUodXJsKSB7CiAgICAgIHJldHVybiBfc2FuaXRpemUodXJsLCB0aGlzLlBST1RPQ09MX1dISVRFTElTVCkgPyB1cmwgOiB0aGlzLlNBTklUSVpFRF9VUkw7CiAgICB9CiAgfV0pOwp9KF9pbmxpbmUuZGVmYXVsdCk7CigwLCBfZGVmaW5lUHJvcGVydHkyLmRlZmF1bHQpKExpbmssICJibG90TmFtZSIsICdsaW5rJyk7CigwLCBfZGVmaW5lUHJvcGVydHkyLmRlZmF1bHQpKExpbmssICJ0YWdOYW1lIiwgJ0EnKTsKKDAsIF9kZWZpbmVQcm9wZXJ0eTIuZGVmYXVsdCkoTGluaywgIlNBTklUSVpFRF9VUkwiLCAnYWJvdXQ6YmxhbmsnKTsKKDAsIF9kZWZpbmVQcm9wZXJ0eTIuZGVmYXVsdCkoTGluaywgIlBST1RPQ09MX1dISVRFTElTVCIsIFsnaHR0cCcsICdodHRwcycsICdtYWlsdG8nLCAndGVsJywgJ3NtcyddKTsKZnVuY3Rpb24gX3Nhbml0aXplKHVybCwgcHJvdG9jb2xzKSB7CiAgdmFyIGFuY2hvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTsKICBhbmNob3IuaHJlZiA9IHVybDsKICB2YXIgcHJvdG9jb2wgPSBhbmNob3IuaHJlZi5zbGljZSgwLCBhbmNob3IuaHJlZi5pbmRleE9mKCc6JykpOwogIHJldHVybiBwcm90b2NvbHMuaW5kZXhPZihwcm90b2NvbCkgPiAtMTsKfQ=="},{"version":3,"names":["_inline","_interopRequireDefault","require","Link","exports","default","_Inline","_classCallCheck2","_callSuper2","arguments","_inherits2","_createClass2","key","value","format","name","statics","blotName","_superPropGet2","domNode","setAttribute","constructor","sanitize","create","node","formats","getAttribute","url","PROTOCOL_WHITELIST","SANITIZED_URL","Inline","_defineProperty2","protocols","anchor","document","createElement","href","protocol","slice","indexOf"],"sources":["../../src/formats/link.ts"],"sourcesContent":["import Inline from '../blots/inline.js';\n\nclass Link extends Inline {\n  static blotName = 'link';\n  static tagName = 'A';\n  static SANITIZED_URL = 'about:blank';\n  static PROTOCOL_WHITELIST = ['http', 'https', 'mailto', 'tel', 'sms'];\n\n  static create(value: string) {\n    const node = super.create(value) as HTMLElement;\n    node.setAttribute('href', this.sanitize(value));\n    node.setAttribute('rel', 'noopener noreferrer');\n    node.setAttribute('target', '_blank');\n    return node;\n  }\n\n  static formats(domNode: HTMLElement) {\n    return domNode.getAttribute('href');\n  }\n\n  static sanitize(url: string) {\n    return sanitize(url, this.PROTOCOL_WHITELIST) ? url : this.SANITIZED_URL;\n  }\n\n  format(name: string, value: unknown) {\n    if (name !== this.statics.blotName || !value) {\n      super.format(name, value);\n    } else {\n      // @ts-expect-error\n      this.domNode.setAttribute('href', this.constructor.sanitize(value));\n    }\n  }\n}\n\nfunction sanitize(url: string, protocols: string[]) {\n  const anchor = document.createElement('a');\n  anchor.href = url;\n  const protocol = anchor.href.slice(0, anchor.href.indexOf(':'));\n  return protocols.indexOf(protocol) > -1;\n}\n\nexport { Link as default, sanitize };\n"],"mappings":";;;;;;;;;;;;;;;AAAA,IAAAA,OAAA,GAAAC,sBAAA,CAAAC,OAAA;AAAuC,IAEjCC,IAAI,GAAAC,OAAA,CAAAC,OAAA,0BAAAC,OAAA;EAAA,SAAAH,KAAA;IAAA,IAAAI,gBAAA,CAAAF,OAAA,QAAAF,IAAA;IAAA,WAAAK,WAAA,CAAAH,OAAA,QAAAF,IAAA,EAAAM,SAAA;EAAA;EAAA,IAAAC,UAAA,CAAAL,OAAA,EAAAF,IAAA,EAAAG,OAAA;EAAA,WAAAK,aAAA,CAAAN,OAAA,EAAAF,IAAA;IAAAS,GAAA;IAAAC,KAAA,EAsBR,SAAAC,MAAMA,CAACC,IAAY,EAAEF,KAAc,EAAE;MACnC,IAAIE,IAAI,KAAK,IAAI,CAACC,OAAO,CAACC,QAAQ,IAAI,CAACJ,KAAK,EAAE;QAC5C,IAAAK,cAAA,CAAAb,OAAA,EAAAF,IAAA,sBAAaY,IAAI,EAAEF,KAAK;MAC1B,CAAC,MAAM;QACL;QACA,IAAI,CAACM,OAAO,CAACC,YAAY,CAAC,MAAM,EAAE,IAAI,CAACC,WAAW,CAACC,QAAQ,CAACT,KAAK,CAAC,CAAC;MACrE;IACF;EAAA;IAAAD,GAAA;IAAAC,KAAA,EAvBA,SAAOU,MAAMA,CAACV,KAAa,EAAE;MAC3B,IAAMW,IAAI,OAAAN,cAAA,CAAAb,OAAA,EAAAF,IAAA,sBAAgBU,KAAK,EAAgB;MAC/CW,IAAI,CAACJ,YAAY,CAAC,MAAM,EAAE,IAAI,CAACE,QAAQ,CAACT,KAAK,CAAC,CAAC;MAC/CW,IAAI,CAACJ,YAAY,CAAC,KAAK,EAAE,qBAAqB,CAAC;MAC/CI,IAAI,CAACJ,YAAY,CAAC,QAAQ,EAAE,QAAQ,CAAC;MACrC,OAAOI,IAAI;IACb;EAAA;IAAAZ,GAAA;IAAAC,KAAA,EAEA,SAAOY,OAAOA,CAACN,OAAoB,EAAE;MACnC,OAAOA,OAAO,CAACO,YAAY,CAAC,MAAM,CAAC;IACrC;EAAA;IAAAd,GAAA;IAAAC,KAAA,EAEA,SAAOS,QAAQA,CAACK,GAAW,EAAE;MAC3B,OAAOL,SAAQ,CAACK,GAAG,EAAE,IAAI,CAACC,kBAAkB,CAAC,GAAGD,GAAG,GAAG,IAAI,CAACE,aAAa;IAC1E;EAAA;AAAA,EApBiBC,eAAM;AAAA,IAAAC,gBAAA,CAAA1B,OAAA,EAAnBF,IAAI,cACU,MAAM;AAAA,IAAA4B,gBAAA,CAAA1B,OAAA,EADpBF,IAAI,aAES,GAAG;AAAA,IAAA4B,gBAAA,CAAA1B,OAAA,EAFhBF,IAAI,mBAGe,aAAa;AAAA,IAAA4B,gBAAA,CAAA1B,OAAA,EAHhCF,IAAI,wBAIoB,CAAC,MAAM,EAAE,OAAO,EAAE,QAAQ,EAAE,KAAK,EAAE,KAAK,CAAC;AA4BvE,SAASmB,SAAQA,CAACK,GAAW,EAAEK,SAAmB,EAAE;EAClD,IAAMC,MAAM,GAAGC,QAAQ,CAACC,aAAa,CAAC,GAAG,CAAC;EAC1CF,MAAM,CAACG,IAAI,GAAGT,GAAG;EACjB,IAAMU,QAAQ,GAAGJ,MAAM,CAACG,IAAI,CAACE,KAAK,CAAC,CAAC,EAAEL,MAAM,CAACG,IAAI,CAACG,OAAO,CAAC,GAAG,CAAC,CAAC;EAC/D,OAAOP,SAAS,CAACO,OAAO,CAACF,QAAQ,CAAC,GAAG,CAAC,CAAC;AACzC","ignoreList":[]}]}