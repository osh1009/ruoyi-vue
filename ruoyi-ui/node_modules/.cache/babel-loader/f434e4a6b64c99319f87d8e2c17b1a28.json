{"remainingRequest":"E:\\workSpace\\RuoYi-Vue\\ruoyi-ui\\node_modules\\babel-loader\\lib\\index.js!E:\\workSpace\\RuoYi-Vue\\ruoyi-ui\\node_modules\\quill\\formats\\formula.js","dependencies":[{"path":"E:\\workSpace\\RuoYi-Vue\\ruoyi-ui\\node_modules\\quill\\formats\\formula.js","mtime":1734253477669},{"path":"E:\\workSpace\\RuoYi-Vue\\ruoyi-ui\\babel.config.js","mtime":1734161096606},{"path":"E:\\workSpace\\RuoYi-Vue\\ruoyi-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1734253476057},{"path":"E:\\workSpace\\RuoYi-Vue\\ruoyi-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":1734253476301}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCJFOi93b3JrU3BhY2UvUnVvWWktVnVlL3J1b3lpLXVpL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2ludGVyb3BSZXF1aXJlRGVmYXVsdC5qcyIpLmRlZmF1bHQ7Ck9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsKICB2YWx1ZTogdHJ1ZQp9KTsKZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuZXJyb3IuY2F1c2UuanMiKTsKdmFyIF9jbGFzc0NhbGxDaGVjazIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIkU6L3dvcmtTcGFjZS9SdW9ZaS1WdWUvcnVveWktdWkvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2suanMiKSk7CnZhciBfY3JlYXRlQ2xhc3MyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJFOi93b3JrU3BhY2UvUnVvWWktVnVlL3J1b3lpLXVpL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzLmpzIikpOwp2YXIgX2NhbGxTdXBlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIkU6L3dvcmtTcGFjZS9SdW9ZaS1WdWUvcnVveWktdWkvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvY2FsbFN1cGVyLmpzIikpOwp2YXIgX3N1cGVyUHJvcEdldDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIkU6L3dvcmtTcGFjZS9SdW9ZaS1WdWUvcnVveWktdWkvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvc3VwZXJQcm9wR2V0LmpzIikpOwp2YXIgX2luaGVyaXRzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiRTovd29ya1NwYWNlL1J1b1lpLVZ1ZS9ydW95aS11aS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbmhlcml0cy5qcyIpKTsKdmFyIF9kZWZpbmVQcm9wZXJ0eTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIkU6L3dvcmtTcGFjZS9SdW9ZaS1WdWUvcnVveWktdWkvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZGVmaW5lUHJvcGVydHkuanMiKSk7CnZhciBfZW1iZWQgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIi4uL2Jsb3RzL2VtYmVkLmpzIikpOwp2YXIgRm9ybXVsYSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX0VtYmVkKSB7CiAgZnVuY3Rpb24gRm9ybXVsYSgpIHsKICAgICgwLCBfY2xhc3NDYWxsQ2hlY2syLmRlZmF1bHQpKHRoaXMsIEZvcm11bGEpOwogICAgcmV0dXJuICgwLCBfY2FsbFN1cGVyMi5kZWZhdWx0KSh0aGlzLCBGb3JtdWxhLCBhcmd1bWVudHMpOwogIH0KICAoMCwgX2luaGVyaXRzMi5kZWZhdWx0KShGb3JtdWxhLCBfRW1iZWQpOwogIHJldHVybiAoMCwgX2NyZWF0ZUNsYXNzMi5kZWZhdWx0KShGb3JtdWxhLCBbewogICAga2V5OiAiaHRtbCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gaHRtbCgpIHsKICAgICAgdmFyIF90aGlzJHZhbHVlID0gdGhpcy52YWx1ZSgpLAogICAgICAgIGZvcm11bGEgPSBfdGhpcyR2YWx1ZS5mb3JtdWxhOwogICAgICByZXR1cm4gIjxzcGFuPiIuY29uY2F0KGZvcm11bGEsICI8L3NwYW4+Iik7CiAgICB9CiAgfV0sIFt7CiAgICBrZXk6ICJjcmVhdGUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZSh2YWx1ZSkgewogICAgICAvLyBAdHMtZXhwZWN0LWVycm9yCiAgICAgIGlmICh3aW5kb3cua2F0ZXggPT0gbnVsbCkgewogICAgICAgIHRocm93IG5ldyBFcnJvcignRm9ybXVsYSBtb2R1bGUgcmVxdWlyZXMgS2FUZVguJyk7CiAgICAgIH0KICAgICAgdmFyIG5vZGUgPSAoMCwgX3N1cGVyUHJvcEdldDIuZGVmYXVsdCkoRm9ybXVsYSwgImNyZWF0ZSIsIHRoaXMsIDIpKFt2YWx1ZV0pOwogICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykgewogICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IKICAgICAgICB3aW5kb3cua2F0ZXgucmVuZGVyKHZhbHVlLCBub2RlLCB7CiAgICAgICAgICB0aHJvd09uRXJyb3I6IGZhbHNlLAogICAgICAgICAgZXJyb3JDb2xvcjogJyNmMDAnCiAgICAgICAgfSk7CiAgICAgICAgbm9kZS5zZXRBdHRyaWJ1dGUoJ2RhdGEtdmFsdWUnLCB2YWx1ZSk7CiAgICAgIH0KICAgICAgcmV0dXJuIG5vZGU7CiAgICB9CiAgfSwgewogICAga2V5OiAidmFsdWUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHZhbHVlKGRvbU5vZGUpIHsKICAgICAgcmV0dXJuIGRvbU5vZGUuZ2V0QXR0cmlidXRlKCdkYXRhLXZhbHVlJyk7CiAgICB9CiAgfV0pOwp9KF9lbWJlZC5kZWZhdWx0KTsKKDAsIF9kZWZpbmVQcm9wZXJ0eTIuZGVmYXVsdCkoRm9ybXVsYSwgImJsb3ROYW1lIiwgJ2Zvcm11bGEnKTsKKDAsIF9kZWZpbmVQcm9wZXJ0eTIuZGVmYXVsdCkoRm9ybXVsYSwgImNsYXNzTmFtZSIsICdxbC1mb3JtdWxhJyk7CigwLCBfZGVmaW5lUHJvcGVydHkyLmRlZmF1bHQpKEZvcm11bGEsICJ0YWdOYW1lIiwgJ1NQQU4nKTsKdmFyIF9kZWZhdWx0ID0gZXhwb3J0cy5kZWZhdWx0ID0gRm9ybXVsYTs="},{"version":3,"names":["_embed","_interopRequireDefault","require","Formula","_Embed","_classCallCheck2","default","_callSuper2","arguments","_inherits2","_createClass2","key","value","html","_this$value","formula","concat","create","window","katex","Error","node","_superPropGet2","render","throwOnError","errorColor","setAttribute","domNode","getAttribute","Embed","_defineProperty2","_default","exports"],"sources":["../../src/formats/formula.ts"],"sourcesContent":["import Embed from '../blots/embed.js';\n\nclass Formula extends Embed {\n  static blotName = 'formula';\n  static className = 'ql-formula';\n  static tagName = 'SPAN';\n\n  static create(value: string) {\n    // @ts-expect-error\n    if (window.katex == null) {\n      throw new Error('Formula module requires KaTeX.');\n    }\n    const node = super.create(value) as Element;\n    if (typeof value === 'string') {\n      // @ts-expect-error\n      window.katex.render(value, node, {\n        throwOnError: false,\n        errorColor: '#f00',\n      });\n      node.setAttribute('data-value', value);\n    }\n    return node;\n  }\n\n  static value(domNode: Element) {\n    return domNode.getAttribute('data-value');\n  }\n\n  html() {\n    const { formula } = this.value();\n    return `<span>${formula}</span>`;\n  }\n}\n\nexport default Formula;\n"],"mappings":";;;;;;;;;;;;;;AAAA,IAAAA,MAAA,GAAAC,sBAAA,CAAAC,OAAA;AAAqC,IAE/BC,OAAO,0BAAAC,MAAA;EAAA,SAAAD,QAAA;IAAA,IAAAE,gBAAA,CAAAC,OAAA,QAAAH,OAAA;IAAA,WAAAI,WAAA,CAAAD,OAAA,QAAAH,OAAA,EAAAK,SAAA;EAAA;EAAA,IAAAC,UAAA,CAAAH,OAAA,EAAAH,OAAA,EAAAC,MAAA;EAAA,WAAAM,aAAA,CAAAJ,OAAA,EAAAH,OAAA;IAAAQ,GAAA;IAAAC,KAAA,EA0BX,SAAAC,IAAIA,CAAA,EAAG;MACL,IAAAC,WAAA,GAAoB,IAAI,CAACF,KAAK,CAAC,CAAC;QAAxBG,OAAA,GAAAD,WAAA,CAAAC,OAAA;MACR,gBAAAC,MAAA,CAAgBD,OAAQ;IAC1B;EAAA;IAAAJ,GAAA;IAAAC,KAAA,EAxBA,SAAOK,MAAMA,CAACL,KAAa,EAAE;MAC3B;MACA,IAAIM,MAAM,CAACC,KAAK,IAAI,IAAI,EAAE;QACxB,MAAM,IAAIC,KAAK,CAAC,gCAAgC,CAAC;MACnD;MACA,IAAMC,IAAI,OAAAC,cAAA,CAAAhB,OAAA,EAAAH,OAAA,sBAAgBS,KAAK,EAAY;MAC3C,IAAI,OAAOA,KAAK,KAAK,QAAQ,EAAE;QAC7B;QACAM,MAAM,CAACC,KAAK,CAACI,MAAM,CAACX,KAAK,EAAES,IAAI,EAAE;UAC/BG,YAAY,EAAE,KAAK;UACnBC,UAAU,EAAE;QACd,CAAC,CAAC;QACFJ,IAAI,CAACK,YAAY,CAAC,YAAY,EAAEd,KAAK,CAAC;MACxC;MACA,OAAOS,IAAI;IACb;EAAA;IAAAV,GAAA;IAAAC,KAAA,EAEA,SAAOA,KAAKA,CAACe,OAAgB,EAAE;MAC7B,OAAOA,OAAO,CAACC,YAAY,CAAC,YAAY,CAAC;IAC3C;EAAA;AAAA,EAxBoBC,cAAK;AAAA,IAAAC,gBAAA,CAAAxB,OAAA,EAArBH,OAAO,cACO,SAAS;AAAA,IAAA2B,gBAAA,CAAAxB,OAAA,EADvBH,OAAO,eAEQ,YAAY;AAAA,IAAA2B,gBAAA,CAAAxB,OAAA,EAF3BH,OAAO,aAGM,MAAM;AAAA,IAAA4B,QAAA,GAAAC,OAAA,CAAA1B,OAAA,GA6BVH,OAAO","ignoreList":[]}]}