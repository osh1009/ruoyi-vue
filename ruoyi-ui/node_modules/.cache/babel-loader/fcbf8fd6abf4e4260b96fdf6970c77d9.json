{"remainingRequest":"E:\\workSpace\\RuoYi-Vue\\ruoyi-ui\\node_modules\\babel-loader\\lib\\index.js!E:\\workSpace\\RuoYi-Vue\\ruoyi-ui\\node_modules\\quill\\modules\\toolbar.js","dependencies":[{"path":"E:\\workSpace\\RuoYi-Vue\\ruoyi-ui\\node_modules\\quill\\modules\\toolbar.js","mtime":1734253479792},{"path":"E:\\workSpace\\RuoYi-Vue\\ruoyi-ui\\babel.config.js","mtime":1734161096606},{"path":"E:\\workSpace\\RuoYi-Vue\\ruoyi-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1734253476057},{"path":"E:\\workSpace\\RuoYi-Vue\\ruoyi-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":1734253476301}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCJFOi93b3JrU3BhY2UvUnVvWWktVnVlL3J1b3lpLXVpL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2ludGVyb3BSZXF1aXJlRGVmYXVsdC5qcyIpLmRlZmF1bHQ7Ck9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsKICB2YWx1ZTogdHJ1ZQp9KTsKZXhwb3J0cy5hZGRDb250cm9scyA9IGFkZENvbnRyb2xzOwpleHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQuanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZyb20uanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnB1c2guanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNsaWNlLmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cy5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmcuanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UuanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzbmV4dC5pdGVyYXRvci5jb25zdHJ1Y3Rvci5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXNuZXh0Lml0ZXJhdG9yLmZpbmQuanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzbmV4dC5pdGVyYXRvci5mb3ItZWFjaC5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyIpOwp2YXIgX2RlZmluZVByb3BlcnR5MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiRTovd29ya1NwYWNlL1J1b1lpLVZ1ZS9ydW95aS11aS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9kZWZpbmVQcm9wZXJ0eS5qcyIpKTsKdmFyIF9zbGljZWRUb0FycmF5MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiRTovd29ya1NwYWNlL1J1b1lpLVZ1ZS9ydW95aS11aS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9zbGljZWRUb0FycmF5LmpzIikpOwp2YXIgX2NsYXNzQ2FsbENoZWNrMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiRTovd29ya1NwYWNlL1J1b1lpLVZ1ZS9ydW95aS11aS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjay5qcyIpKTsKdmFyIF9jcmVhdGVDbGFzczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIkU6L3dvcmtTcGFjZS9SdW9ZaS1WdWUvcnVveWktdWkvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MuanMiKSk7CnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIkU6L3dvcmtTcGFjZS9SdW9ZaS1WdWUvcnVveWktdWkvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybi5qcyIpKTsKdmFyIF9jYWxsU3VwZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJFOi93b3JrU3BhY2UvUnVvWWktVnVlL3J1b3lpLXVpL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2NhbGxTdXBlci5qcyIpKTsKdmFyIF9pbmhlcml0czIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIkU6L3dvcmtTcGFjZS9SdW9ZaS1WdWUvcnVveWktdWkvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMuanMiKSk7CnZhciBfcXVpbGxEZWx0YSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgicXVpbGwtZGVsdGEiKSk7CnZhciBfcGFyY2htZW50ID0gcmVxdWlyZSgicGFyY2htZW50Iik7CnZhciBfcXVpbGwgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIi4uL2NvcmUvcXVpbGwuanMiKSk7CnZhciBfbG9nZ2VyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCIuLi9jb3JlL2xvZ2dlci5qcyIpKTsKdmFyIF9tb2R1bGUgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIi4uL2NvcmUvbW9kdWxlLmpzIikpOwp2YXIgZGVidWcgPSAoMCwgX2xvZ2dlci5kZWZhdWx0KSgncXVpbGw6dG9vbGJhcicpOwp2YXIgVG9vbGJhciA9IGV4cG9ydHMuZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX01vZHVsZSkgewogIGZ1bmN0aW9uIFRvb2xiYXIocXVpbGwsIG9wdGlvbnMpIHsKICAgIHZhciBfdGhpczsKICAgICgwLCBfY2xhc3NDYWxsQ2hlY2syLmRlZmF1bHQpKHRoaXMsIFRvb2xiYXIpOwogICAgX3RoaXMgPSAoMCwgX2NhbGxTdXBlcjIuZGVmYXVsdCkodGhpcywgVG9vbGJhciwgW3F1aWxsLCBvcHRpb25zXSk7CiAgICBpZiAoQXJyYXkuaXNBcnJheShfdGhpcy5vcHRpb25zLmNvbnRhaW5lcikpIHsKICAgICAgdmFyIF9xdWlsbCRjb250YWluZXI7CiAgICAgIHZhciBjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgY29udGFpbmVyLnNldEF0dHJpYnV0ZSgncm9sZScsICd0b29sYmFyJyk7CiAgICAgIGFkZENvbnRyb2xzKGNvbnRhaW5lciwgX3RoaXMub3B0aW9ucy5jb250YWluZXIpOwogICAgICAoX3F1aWxsJGNvbnRhaW5lciA9IHF1aWxsLmNvbnRhaW5lcikgPT09IG51bGwgfHwgX3F1aWxsJGNvbnRhaW5lciA9PT0gdm9pZCAwIHx8IChfcXVpbGwkY29udGFpbmVyID0gX3F1aWxsJGNvbnRhaW5lci5wYXJlbnROb2RlKSA9PT0gbnVsbCB8fCBfcXVpbGwkY29udGFpbmVyID09PSB2b2lkIDAgfHwgX3F1aWxsJGNvbnRhaW5lci5pbnNlcnRCZWZvcmUoY29udGFpbmVyLCBxdWlsbC5jb250YWluZXIpOwogICAgICBfdGhpcy5jb250YWluZXIgPSBjb250YWluZXI7CiAgICB9IGVsc2UgaWYgKHR5cGVvZiBfdGhpcy5vcHRpb25zLmNvbnRhaW5lciA9PT0gJ3N0cmluZycpIHsKICAgICAgX3RoaXMuY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihfdGhpcy5vcHRpb25zLmNvbnRhaW5lcik7CiAgICB9IGVsc2UgewogICAgICBfdGhpcy5jb250YWluZXIgPSBfdGhpcy5vcHRpb25zLmNvbnRhaW5lcjsKICAgIH0KICAgIGlmICghKF90aGlzLmNvbnRhaW5lciBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSkgewogICAgICBkZWJ1Zy5lcnJvcignQ29udGFpbmVyIHJlcXVpcmVkIGZvciB0b29sYmFyJywgX3RoaXMub3B0aW9ucyk7CiAgICAgIHJldHVybiAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yLmRlZmF1bHQpKF90aGlzKTsKICAgIH0KICAgIF90aGlzLmNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdxbC10b29sYmFyJyk7CiAgICBfdGhpcy5jb250cm9scyA9IFtdOwogICAgX3RoaXMuaGFuZGxlcnMgPSB7fTsKICAgIGlmIChfdGhpcy5vcHRpb25zLmhhbmRsZXJzKSB7CiAgICAgIE9iamVjdC5rZXlzKF90aGlzLm9wdGlvbnMuaGFuZGxlcnMpLmZvckVhY2goZnVuY3Rpb24gKGZvcm1hdCkgewogICAgICAgIHZhciBfdGhpcyRvcHRpb25zJGhhbmRsZXI7CiAgICAgICAgdmFyIGhhbmRsZXIgPSAoX3RoaXMkb3B0aW9ucyRoYW5kbGVyID0gX3RoaXMub3B0aW9ucy5oYW5kbGVycykgPT09IG51bGwgfHwgX3RoaXMkb3B0aW9ucyRoYW5kbGVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRvcHRpb25zJGhhbmRsZXJbZm9ybWF0XTsKICAgICAgICBpZiAoaGFuZGxlcikgewogICAgICAgICAgX3RoaXMuYWRkSGFuZGxlcihmb3JtYXQsIGhhbmRsZXIpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgICBBcnJheS5mcm9tKF90aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKCdidXR0b24sIHNlbGVjdCcpKS5mb3JFYWNoKGZ1bmN0aW9uIChpbnB1dCkgewogICAgICAvLyBAdHMtZXhwZWN0LWVycm9yCiAgICAgIF90aGlzLmF0dGFjaChpbnB1dCk7CiAgICB9KTsKICAgIF90aGlzLnF1aWxsLm9uKF9xdWlsbC5kZWZhdWx0LmV2ZW50cy5FRElUT1JfQ0hBTkdFLCBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfdGhpcyRxdWlsbCRzZWxlY3Rpb24gPSBfdGhpcy5xdWlsbC5zZWxlY3Rpb24uZ2V0UmFuZ2UoKSwKICAgICAgICBfdGhpcyRxdWlsbCRzZWxlY3Rpb24yID0gKDAsIF9zbGljZWRUb0FycmF5Mi5kZWZhdWx0KShfdGhpcyRxdWlsbCRzZWxlY3Rpb24sIDEpLAogICAgICAgIHJhbmdlID0gX3RoaXMkcXVpbGwkc2VsZWN0aW9uMlswXTsgLy8gcXVpbGwuZ2V0U2VsZWN0aW9uIHRyaWdnZXJzIHVwZGF0ZQogICAgICBfdGhpcy51cGRhdGUocmFuZ2UpOwogICAgfSk7CiAgICByZXR1cm4gX3RoaXM7CiAgfQogICgwLCBfaW5oZXJpdHMyLmRlZmF1bHQpKFRvb2xiYXIsIF9Nb2R1bGUpOwogIHJldHVybiAoMCwgX2NyZWF0ZUNsYXNzMi5kZWZhdWx0KShUb29sYmFyLCBbewogICAga2V5OiAiYWRkSGFuZGxlciIsCiAgICB2YWx1ZTogZnVuY3Rpb24gYWRkSGFuZGxlcihmb3JtYXQsIGhhbmRsZXIpIHsKICAgICAgdGhpcy5oYW5kbGVyc1tmb3JtYXRdID0gaGFuZGxlcjsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJhdHRhY2giLAogICAgdmFsdWU6IGZ1bmN0aW9uIGF0dGFjaChpbnB1dCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKICAgICAgdmFyIGZvcm1hdCA9IEFycmF5LmZyb20oaW5wdXQuY2xhc3NMaXN0KS5maW5kKGZ1bmN0aW9uIChjbGFzc05hbWUpIHsKICAgICAgICByZXR1cm4gY2xhc3NOYW1lLmluZGV4T2YoJ3FsLScpID09PSAwOwogICAgICB9KTsKICAgICAgaWYgKCFmb3JtYXQpIHJldHVybjsKICAgICAgZm9ybWF0ID0gZm9ybWF0LnNsaWNlKCdxbC0nLmxlbmd0aCk7CiAgICAgIGlmIChpbnB1dC50YWdOYW1lID09PSAnQlVUVE9OJykgewogICAgICAgIGlucHV0LnNldEF0dHJpYnV0ZSgndHlwZScsICdidXR0b24nKTsKICAgICAgfQogICAgICBpZiAodGhpcy5oYW5kbGVyc1tmb3JtYXRdID09IG51bGwgJiYgdGhpcy5xdWlsbC5zY3JvbGwucXVlcnkoZm9ybWF0KSA9PSBudWxsKSB7CiAgICAgICAgZGVidWcud2FybignaWdub3JpbmcgYXR0YWNoaW5nIHRvIG5vbmV4aXN0ZW50IGZvcm1hdCcsIGZvcm1hdCwgaW5wdXQpOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICB2YXIgZXZlbnROYW1lID0gaW5wdXQudGFnTmFtZSA9PT0gJ1NFTEVDVCcgPyAnY2hhbmdlJyA6ICdjbGljayc7CiAgICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBmdW5jdGlvbiAoZSkgewogICAgICAgIHZhciB2YWx1ZTsKICAgICAgICBpZiAoaW5wdXQudGFnTmFtZSA9PT0gJ1NFTEVDVCcpIHsKICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IKICAgICAgICAgIGlmIChpbnB1dC5zZWxlY3RlZEluZGV4IDwgMCkgcmV0dXJuOwogICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvcgogICAgICAgICAgdmFyIHNlbGVjdGVkID0gaW5wdXQub3B0aW9uc1tpbnB1dC5zZWxlY3RlZEluZGV4XTsKICAgICAgICAgIGlmIChzZWxlY3RlZC5oYXNBdHRyaWJ1dGUoJ3NlbGVjdGVkJykpIHsKICAgICAgICAgICAgdmFsdWUgPSBmYWxzZTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHZhbHVlID0gc2VsZWN0ZWQudmFsdWUgfHwgZmFsc2U7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGlmIChpbnB1dC5jbGFzc0xpc3QuY29udGFpbnMoJ3FsLWFjdGl2ZScpKSB7CiAgICAgICAgICAgIHZhbHVlID0gZmFsc2U7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yCiAgICAgICAgICAgIHZhbHVlID0gaW5wdXQudmFsdWUgfHwgIWlucHV0Lmhhc0F0dHJpYnV0ZSgndmFsdWUnKTsKICAgICAgICAgIH0KICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICB9CiAgICAgICAgX3RoaXMyLnF1aWxsLmZvY3VzKCk7CiAgICAgICAgdmFyIF90aGlzMiRxdWlsbCRzZWxlY3RpbyA9IF90aGlzMi5xdWlsbC5zZWxlY3Rpb24uZ2V0UmFuZ2UoKSwKICAgICAgICAgIF90aGlzMiRxdWlsbCRzZWxlY3RpbzIgPSAoMCwgX3NsaWNlZFRvQXJyYXkyLmRlZmF1bHQpKF90aGlzMiRxdWlsbCRzZWxlY3RpbywgMSksCiAgICAgICAgICByYW5nZSA9IF90aGlzMiRxdWlsbCRzZWxlY3RpbzJbMF07CiAgICAgICAgaWYgKF90aGlzMi5oYW5kbGVyc1tmb3JtYXRdICE9IG51bGwpIHsKICAgICAgICAgIF90aGlzMi5oYW5kbGVyc1tmb3JtYXRdLmNhbGwoX3RoaXMyLCB2YWx1ZSk7CiAgICAgICAgfSBlbHNlIGlmICgKICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yCiAgICAgICAgX3RoaXMyLnF1aWxsLnNjcm9sbC5xdWVyeShmb3JtYXQpLnByb3RvdHlwZSBpbnN0YW5jZW9mIF9wYXJjaG1lbnQuRW1iZWRCbG90KSB7CiAgICAgICAgICB2YWx1ZSA9IHByb21wdCgiRW50ZXIgIi5jb25jYXQoZm9ybWF0KSk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tYWxlcnQKICAgICAgICAgIGlmICghdmFsdWUpIHJldHVybjsKICAgICAgICAgIF90aGlzMi5xdWlsbC51cGRhdGVDb250ZW50cyhuZXcgX3F1aWxsRGVsdGEuZGVmYXVsdCgpCiAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIEZpeCBtZSBsYXRlcgogICAgICAgICAgLnJldGFpbihyYW5nZS5pbmRleCkKICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgRml4IG1lIGxhdGVyCiAgICAgICAgICAuZGVsZXRlKHJhbmdlLmxlbmd0aCkuaW5zZXJ0KCgwLCBfZGVmaW5lUHJvcGVydHkyLmRlZmF1bHQpKHt9LCBmb3JtYXQsIHZhbHVlKSksIF9xdWlsbC5kZWZhdWx0LnNvdXJjZXMuVVNFUik7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF90aGlzMi5xdWlsbC5mb3JtYXQoZm9ybWF0LCB2YWx1ZSwgX3F1aWxsLmRlZmF1bHQuc291cmNlcy5VU0VSKTsKICAgICAgICB9CiAgICAgICAgX3RoaXMyLnVwZGF0ZShyYW5nZSk7CiAgICAgIH0pOwogICAgICB0aGlzLmNvbnRyb2xzLnB1c2goW2Zvcm1hdCwgaW5wdXRdKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJ1cGRhdGUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZShyYW5nZSkgewogICAgICB2YXIgZm9ybWF0cyA9IHJhbmdlID09IG51bGwgPyB7fSA6IHRoaXMucXVpbGwuZ2V0Rm9ybWF0KHJhbmdlKTsKICAgICAgdGhpcy5jb250cm9scy5mb3JFYWNoKGZ1bmN0aW9uIChwYWlyKSB7CiAgICAgICAgdmFyIF9wYWlyID0gKDAsIF9zbGljZWRUb0FycmF5Mi5kZWZhdWx0KShwYWlyLCAyKSwKICAgICAgICAgIGZvcm1hdCA9IF9wYWlyWzBdLAogICAgICAgICAgaW5wdXQgPSBfcGFpclsxXTsKICAgICAgICBpZiAoaW5wdXQudGFnTmFtZSA9PT0gJ1NFTEVDVCcpIHsKICAgICAgICAgIHZhciBvcHRpb24gPSBudWxsOwogICAgICAgICAgaWYgKHJhbmdlID09IG51bGwpIHsKICAgICAgICAgICAgb3B0aW9uID0gbnVsbDsKICAgICAgICAgIH0gZWxzZSBpZiAoZm9ybWF0c1tmb3JtYXRdID09IG51bGwpIHsKICAgICAgICAgICAgb3B0aW9uID0gaW5wdXQucXVlcnlTZWxlY3Rvcignb3B0aW9uW3NlbGVjdGVkXScpOwogICAgICAgICAgfSBlbHNlIGlmICghQXJyYXkuaXNBcnJheShmb3JtYXRzW2Zvcm1hdF0pKSB7CiAgICAgICAgICAgIHZhciB2YWx1ZSA9IGZvcm1hdHNbZm9ybWF0XTsKICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHsKICAgICAgICAgICAgICB2YWx1ZSA9IHZhbHVlLnJlcGxhY2UoLyIvZywgJ1xcIicpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIG9wdGlvbiA9IGlucHV0LnF1ZXJ5U2VsZWN0b3IoIm9wdGlvblt2YWx1ZT1cIiIuY29uY2F0KHZhbHVlLCAiXCJdIikpOwogICAgICAgICAgfQogICAgICAgICAgaWYgKG9wdGlvbiA9PSBudWxsKSB7CiAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgVE9ETyBmaXggbWUgbGF0ZXIKICAgICAgICAgICAgaW5wdXQudmFsdWUgPSAnJzsgLy8gVE9ETyBtYWtlIGNvbmZpZ3VyYWJsZT8KICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciBUT0RPIGZpeCBtZSBsYXRlcgogICAgICAgICAgICBpbnB1dC5zZWxlY3RlZEluZGV4ID0gLTE7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBvcHRpb24uc2VsZWN0ZWQgPSB0cnVlOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSBpZiAocmFuZ2UgPT0gbnVsbCkgewogICAgICAgICAgaW5wdXQuY2xhc3NMaXN0LnJlbW92ZSgncWwtYWN0aXZlJyk7CiAgICAgICAgICBpbnB1dC5zZXRBdHRyaWJ1dGUoJ2FyaWEtcHJlc3NlZCcsICdmYWxzZScpOwogICAgICAgIH0gZWxzZSBpZiAoaW5wdXQuaGFzQXR0cmlidXRlKCd2YWx1ZScpKSB7CiAgICAgICAgICAvLyBib3RoIGJlaW5nIG51bGwgc2hvdWxkIG1hdGNoIChkZWZhdWx0IHZhbHVlcykKICAgICAgICAgIC8vICcxJyBzaG91bGQgbWF0Y2ggd2l0aCAxIChoZWFkZXJzKQogICAgICAgICAgdmFyIF92YWx1ZSA9IGZvcm1hdHNbZm9ybWF0XTsKICAgICAgICAgIHZhciBpc0FjdGl2ZSA9IF92YWx1ZSA9PT0gaW5wdXQuZ2V0QXR0cmlidXRlKCd2YWx1ZScpIHx8IF92YWx1ZSAhPSBudWxsICYmIF92YWx1ZS50b1N0cmluZygpID09PSBpbnB1dC5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJykgfHwgX3ZhbHVlID09IG51bGwgJiYgIWlucHV0LmdldEF0dHJpYnV0ZSgndmFsdWUnKTsKICAgICAgICAgIGlucHV0LmNsYXNzTGlzdC50b2dnbGUoJ3FsLWFjdGl2ZScsIGlzQWN0aXZlKTsKICAgICAgICAgIGlucHV0LnNldEF0dHJpYnV0ZSgnYXJpYS1wcmVzc2VkJywgaXNBY3RpdmUudG9TdHJpbmcoKSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHZhciBfaXNBY3RpdmUgPSBmb3JtYXRzW2Zvcm1hdF0gIT0gbnVsbDsKICAgICAgICAgIGlucHV0LmNsYXNzTGlzdC50b2dnbGUoJ3FsLWFjdGl2ZScsIF9pc0FjdGl2ZSk7CiAgICAgICAgICBpbnB1dC5zZXRBdHRyaWJ1dGUoJ2FyaWEtcHJlc3NlZCcsIF9pc0FjdGl2ZS50b1N0cmluZygpKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH1dKTsKfShfbW9kdWxlLmRlZmF1bHQpOwpUb29sYmFyLkRFRkFVTFRTID0ge307CmZ1bmN0aW9uIGFkZEJ1dHRvbihjb250YWluZXIsIGZvcm1hdCwgdmFsdWUpIHsKICB2YXIgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTsKICBpbnB1dC5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAnYnV0dG9uJyk7CiAgaW5wdXQuY2xhc3NMaXN0LmFkZCgicWwtIi5jb25jYXQoZm9ybWF0KSk7CiAgaW5wdXQuc2V0QXR0cmlidXRlKCdhcmlhLXByZXNzZWQnLCAnZmFsc2UnKTsKICBpZiAodmFsdWUgIT0gbnVsbCkgewogICAgaW5wdXQudmFsdWUgPSB2YWx1ZTsKICAgIGlucHV0LnNldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcsICIiLmNvbmNhdChmb3JtYXQsICI6ICIpLmNvbmNhdCh2YWx1ZSkpOwogIH0gZWxzZSB7CiAgICBpbnB1dC5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnLCBmb3JtYXQpOwogIH0KICBjb250YWluZXIuYXBwZW5kQ2hpbGQoaW5wdXQpOwp9CmZ1bmN0aW9uIGFkZENvbnRyb2xzKGNvbnRhaW5lciwgZ3JvdXBzKSB7CiAgaWYgKCFBcnJheS5pc0FycmF5KGdyb3Vwc1swXSkpIHsKICAgIC8vIEB0cy1leHBlY3QtZXJyb3IKICAgIGdyb3VwcyA9IFtncm91cHNdOwogIH0KICBncm91cHMuZm9yRWFjaChmdW5jdGlvbiAoY29udHJvbHMpIHsKICAgIHZhciBncm91cCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTsKICAgIGdyb3VwLmNsYXNzTGlzdC5hZGQoJ3FsLWZvcm1hdHMnKTsKICAgIGNvbnRyb2xzLmZvckVhY2goZnVuY3Rpb24gKGNvbnRyb2wpIHsKICAgICAgaWYgKHR5cGVvZiBjb250cm9sID09PSAnc3RyaW5nJykgewogICAgICAgIGFkZEJ1dHRvbihncm91cCwgY29udHJvbCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmFyIGZvcm1hdCA9IE9iamVjdC5rZXlzKGNvbnRyb2wpWzBdOwogICAgICAgIHZhciB2YWx1ZSA9IGNvbnRyb2xbZm9ybWF0XTsKICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHsKICAgICAgICAgIGFkZFNlbGVjdChncm91cCwgZm9ybWF0LCB2YWx1ZSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGFkZEJ1dHRvbihncm91cCwgZm9ybWF0LCB2YWx1ZSk7CiAgICAgICAgfQogICAgICB9CiAgICB9KTsKICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChncm91cCk7CiAgfSk7Cn0KZnVuY3Rpb24gYWRkU2VsZWN0KGNvbnRhaW5lciwgZm9ybWF0LCB2YWx1ZXMpIHsKICB2YXIgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzZWxlY3QnKTsKICBpbnB1dC5jbGFzc0xpc3QuYWRkKCJxbC0iLmNvbmNhdChmb3JtYXQpKTsKICB2YWx1ZXMuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUpIHsKICAgIHZhciBvcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTsKICAgIGlmICh2YWx1ZSAhPT0gZmFsc2UpIHsKICAgICAgb3B0aW9uLnNldEF0dHJpYnV0ZSgndmFsdWUnLCBTdHJpbmcodmFsdWUpKTsKICAgIH0gZWxzZSB7CiAgICAgIG9wdGlvbi5zZXRBdHRyaWJ1dGUoJ3NlbGVjdGVkJywgJ3NlbGVjdGVkJyk7CiAgICB9CiAgICBpbnB1dC5hcHBlbmRDaGlsZChvcHRpb24pOwogIH0pOwogIGNvbnRhaW5lci5hcHBlbmRDaGlsZChpbnB1dCk7Cn0KVG9vbGJhci5ERUZBVUxUUyA9IHsKICBjb250YWluZXI6IG51bGwsCiAgaGFuZGxlcnM6IHsKICAgIGNsZWFuOiBmdW5jdGlvbiBjbGVhbigpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CiAgICAgIHZhciByYW5nZSA9IHRoaXMucXVpbGwuZ2V0U2VsZWN0aW9uKCk7CiAgICAgIGlmIChyYW5nZSA9PSBudWxsKSByZXR1cm47CiAgICAgIGlmIChyYW5nZS5sZW5ndGggPT09IDApIHsKICAgICAgICB2YXIgZm9ybWF0cyA9IHRoaXMucXVpbGwuZ2V0Rm9ybWF0KCk7CiAgICAgICAgT2JqZWN0LmtleXMoZm9ybWF0cykuZm9yRWFjaChmdW5jdGlvbiAobmFtZSkgewogICAgICAgICAgLy8gQ2xlYW4gZnVuY3Rpb25hbGl0eSBpbiBleGlzdGluZyBhcHBzIG9ubHkgY2xlYW4gaW5saW5lIGZvcm1hdHMKICAgICAgICAgIGlmIChfdGhpczMucXVpbGwuc2Nyb2xsLnF1ZXJ5KG5hbWUsIF9wYXJjaG1lbnQuU2NvcGUuSU5MSU5FKSAhPSBudWxsKSB7CiAgICAgICAgICAgIF90aGlzMy5xdWlsbC5mb3JtYXQobmFtZSwgZmFsc2UsIF9xdWlsbC5kZWZhdWx0LnNvdXJjZXMuVVNFUik7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5xdWlsbC5yZW1vdmVGb3JtYXQocmFuZ2UuaW5kZXgsIHJhbmdlLmxlbmd0aCwgX3F1aWxsLmRlZmF1bHQuc291cmNlcy5VU0VSKTsKICAgICAgfQogICAgfSwKICAgIGRpcmVjdGlvbjogZnVuY3Rpb24gZGlyZWN0aW9uKHZhbHVlKSB7CiAgICAgIHZhciBfdGhpcyRxdWlsbCRnZXRGb3JtYXQgPSB0aGlzLnF1aWxsLmdldEZvcm1hdCgpLAogICAgICAgIGFsaWduID0gX3RoaXMkcXVpbGwkZ2V0Rm9ybWF0LmFsaWduOwogICAgICBpZiAodmFsdWUgPT09ICdydGwnICYmIGFsaWduID09IG51bGwpIHsKICAgICAgICB0aGlzLnF1aWxsLmZvcm1hdCgnYWxpZ24nLCAncmlnaHQnLCBfcXVpbGwuZGVmYXVsdC5zb3VyY2VzLlVTRVIpOwogICAgICB9IGVsc2UgaWYgKCF2YWx1ZSAmJiBhbGlnbiA9PT0gJ3JpZ2h0JykgewogICAgICAgIHRoaXMucXVpbGwuZm9ybWF0KCdhbGlnbicsIGZhbHNlLCBfcXVpbGwuZGVmYXVsdC5zb3VyY2VzLlVTRVIpOwogICAgICB9CiAgICAgIHRoaXMucXVpbGwuZm9ybWF0KCdkaXJlY3Rpb24nLCB2YWx1ZSwgX3F1aWxsLmRlZmF1bHQuc291cmNlcy5VU0VSKTsKICAgIH0sCiAgICBpbmRlbnQ6IGZ1bmN0aW9uIGluZGVudCh2YWx1ZSkgewogICAgICB2YXIgcmFuZ2UgPSB0aGlzLnF1aWxsLmdldFNlbGVjdGlvbigpOwogICAgICAvLyBAdHMtZXhwZWN0LWVycm9yCiAgICAgIHZhciBmb3JtYXRzID0gdGhpcy5xdWlsbC5nZXRGb3JtYXQocmFuZ2UpOwogICAgICAvLyBAdHMtZXhwZWN0LWVycm9yCiAgICAgIHZhciBpbmRlbnQgPSBwYXJzZUludChmb3JtYXRzLmluZGVudCB8fCAwLCAxMCk7CiAgICAgIGlmICh2YWx1ZSA9PT0gJysxJyB8fCB2YWx1ZSA9PT0gJy0xJykgewogICAgICAgIHZhciBtb2RpZmllciA9IHZhbHVlID09PSAnKzEnID8gMSA6IC0xOwogICAgICAgIGlmIChmb3JtYXRzLmRpcmVjdGlvbiA9PT0gJ3J0bCcpIG1vZGlmaWVyICo9IC0xOwogICAgICAgIHRoaXMucXVpbGwuZm9ybWF0KCdpbmRlbnQnLCBpbmRlbnQgKyBtb2RpZmllciwgX3F1aWxsLmRlZmF1bHQuc291cmNlcy5VU0VSKTsKICAgICAgfQogICAgfSwKICAgIGxpbms6IGZ1bmN0aW9uIGxpbmsodmFsdWUpIHsKICAgICAgaWYgKHZhbHVlID09PSB0cnVlKSB7CiAgICAgICAgdmFsdWUgPSBwcm9tcHQoJ0VudGVyIGxpbmsgVVJMOicpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWFsZXJ0CiAgICAgIH0KICAgICAgdGhpcy5xdWlsbC5mb3JtYXQoJ2xpbmsnLCB2YWx1ZSwgX3F1aWxsLmRlZmF1bHQuc291cmNlcy5VU0VSKTsKICAgIH0sCiAgICBsaXN0OiBmdW5jdGlvbiBsaXN0KHZhbHVlKSB7CiAgICAgIHZhciByYW5nZSA9IHRoaXMucXVpbGwuZ2V0U2VsZWN0aW9uKCk7CiAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IKICAgICAgdmFyIGZvcm1hdHMgPSB0aGlzLnF1aWxsLmdldEZvcm1hdChyYW5nZSk7CiAgICAgIGlmICh2YWx1ZSA9PT0gJ2NoZWNrJykgewogICAgICAgIGlmIChmb3JtYXRzLmxpc3QgPT09ICdjaGVja2VkJyB8fCBmb3JtYXRzLmxpc3QgPT09ICd1bmNoZWNrZWQnKSB7CiAgICAgICAgICB0aGlzLnF1aWxsLmZvcm1hdCgnbGlzdCcsIGZhbHNlLCBfcXVpbGwuZGVmYXVsdC5zb3VyY2VzLlVTRVIpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLnF1aWxsLmZvcm1hdCgnbGlzdCcsICd1bmNoZWNrZWQnLCBfcXVpbGwuZGVmYXVsdC5zb3VyY2VzLlVTRVIpOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnF1aWxsLmZvcm1hdCgnbGlzdCcsIHZhbHVlLCBfcXVpbGwuZGVmYXVsdC5zb3VyY2VzLlVTRVIpOwogICAgICB9CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["_quillDelta","_interopRequireDefault","require","_parchment","_quill","_logger","_module","debug","logger","Toolbar","exports","default","_Module","quill","options","_this","_classCallCheck2","_callSuper2","Array","isArray","container","_quill$container","document","createElement","setAttribute","addControls","parentNode","insertBefore","querySelector","HTMLElement","error","_possibleConstructorReturn2","classList","add","controls","handlers","Object","keys","forEach","format","_this$options$handler","handler","addHandler","from","querySelectorAll","input","attach","on","Quill","events","EDITOR_CHANGE","_this$quill$selection","selection","getRange","_this$quill$selection2","_slicedToArray2","range","update","_inherits2","_createClass2","key","value","_this2","find","className","indexOf","slice","length","tagName","scroll","query","warn","eventName","addEventListener","e","selectedIndex","selected","hasAttribute","contains","preventDefault","focus","_this2$quill$selectio","_this2$quill$selectio2","call","prototype","EmbedBlot","prompt","concat","updateContents","Delta","retain","index","delete","insert","_defineProperty2","sources","USER","push","formats","getFormat","pair","_pair","option","replace","remove","isActive","getAttribute","toString","toggle","Module","DEFAULTS","addButton","appendChild","groups","group","control","addSelect","values","String","clean","_this3","getSelection","name","Scope","INLINE","removeFormat","direction","_this$quill$getFormat","align","indent","parseInt","modifier","link","list"],"sources":["../../src/modules/toolbar.ts"],"sourcesContent":["import Delta from 'quill-delta';\nimport { EmbedBlot, Scope } from 'parchment';\nimport Quill from '../core/quill.js';\nimport logger from '../core/logger.js';\nimport Module from '../core/module.js';\nimport type { Range } from '../core/selection.js';\n\nconst debug = logger('quill:toolbar');\n\ntype Handler = (this: Toolbar, value: any) => void;\n\nexport type ToolbarConfig = Array<\n  string[] | Array<string | Record<string, unknown>>\n>;\nexport interface ToolbarProps {\n  container?: HTMLElement | ToolbarConfig | null;\n  handlers?: Record<string, Handler>;\n  option?: number;\n  module?: boolean;\n  theme?: boolean;\n}\n\nclass Toolbar extends Module<ToolbarProps> {\n  static DEFAULTS: ToolbarProps;\n\n  container?: HTMLElement | null;\n  controls: [string, HTMLElement][];\n  handlers: Record<string, Handler>;\n\n  constructor(quill: Quill, options: Partial<ToolbarProps>) {\n    super(quill, options);\n    if (Array.isArray(this.options.container)) {\n      const container = document.createElement('div');\n      container.setAttribute('role', 'toolbar');\n      addControls(container, this.options.container);\n      quill.container?.parentNode?.insertBefore(container, quill.container);\n      this.container = container;\n    } else if (typeof this.options.container === 'string') {\n      this.container = document.querySelector(this.options.container);\n    } else {\n      this.container = this.options.container;\n    }\n    if (!(this.container instanceof HTMLElement)) {\n      debug.error('Container required for toolbar', this.options);\n      return;\n    }\n    this.container.classList.add('ql-toolbar');\n    this.controls = [];\n    this.handlers = {};\n    if (this.options.handlers) {\n      Object.keys(this.options.handlers).forEach((format) => {\n        const handler = this.options.handlers?.[format];\n        if (handler) {\n          this.addHandler(format, handler);\n        }\n      });\n    }\n    Array.from(this.container.querySelectorAll('button, select')).forEach(\n      (input) => {\n        // @ts-expect-error\n        this.attach(input);\n      },\n    );\n    this.quill.on(Quill.events.EDITOR_CHANGE, () => {\n      const [range] = this.quill.selection.getRange(); // quill.getSelection triggers update\n      this.update(range);\n    });\n  }\n\n  addHandler(format: string, handler: Handler) {\n    this.handlers[format] = handler;\n  }\n\n  attach(input: HTMLElement) {\n    let format = Array.from(input.classList).find((className) => {\n      return className.indexOf('ql-') === 0;\n    });\n    if (!format) return;\n    format = format.slice('ql-'.length);\n    if (input.tagName === 'BUTTON') {\n      input.setAttribute('type', 'button');\n    }\n    if (\n      this.handlers[format] == null &&\n      this.quill.scroll.query(format) == null\n    ) {\n      debug.warn('ignoring attaching to nonexistent format', format, input);\n      return;\n    }\n    const eventName = input.tagName === 'SELECT' ? 'change' : 'click';\n    input.addEventListener(eventName, (e) => {\n      let value;\n      if (input.tagName === 'SELECT') {\n        // @ts-expect-error\n        if (input.selectedIndex < 0) return;\n        // @ts-expect-error\n        const selected = input.options[input.selectedIndex];\n        if (selected.hasAttribute('selected')) {\n          value = false;\n        } else {\n          value = selected.value || false;\n        }\n      } else {\n        if (input.classList.contains('ql-active')) {\n          value = false;\n        } else {\n          // @ts-expect-error\n          value = input.value || !input.hasAttribute('value');\n        }\n        e.preventDefault();\n      }\n      this.quill.focus();\n      const [range] = this.quill.selection.getRange();\n      if (this.handlers[format] != null) {\n        this.handlers[format].call(this, value);\n      } else if (\n        // @ts-expect-error\n        this.quill.scroll.query(format).prototype instanceof EmbedBlot\n      ) {\n        value = prompt(`Enter ${format}`); // eslint-disable-line no-alert\n        if (!value) return;\n        this.quill.updateContents(\n          new Delta()\n            // @ts-expect-error Fix me later\n            .retain(range.index)\n            // @ts-expect-error Fix me later\n            .delete(range.length)\n            .insert({ [format]: value }),\n          Quill.sources.USER,\n        );\n      } else {\n        this.quill.format(format, value, Quill.sources.USER);\n      }\n      this.update(range);\n    });\n    this.controls.push([format, input]);\n  }\n\n  update(range: Range | null) {\n    const formats = range == null ? {} : this.quill.getFormat(range);\n    this.controls.forEach((pair) => {\n      const [format, input] = pair;\n      if (input.tagName === 'SELECT') {\n        let option: HTMLOptionElement | null = null;\n        if (range == null) {\n          option = null;\n        } else if (formats[format] == null) {\n          option = input.querySelector('option[selected]');\n        } else if (!Array.isArray(formats[format])) {\n          let value = formats[format];\n          if (typeof value === 'string') {\n            value = value.replace(/\"/g, '\\\\\"');\n          }\n          option = input.querySelector(`option[value=\"${value}\"]`);\n        }\n        if (option == null) {\n          // @ts-expect-error TODO fix me later\n          input.value = ''; // TODO make configurable?\n          // @ts-expect-error TODO fix me later\n          input.selectedIndex = -1;\n        } else {\n          option.selected = true;\n        }\n      } else if (range == null) {\n        input.classList.remove('ql-active');\n        input.setAttribute('aria-pressed', 'false');\n      } else if (input.hasAttribute('value')) {\n        // both being null should match (default values)\n        // '1' should match with 1 (headers)\n        const value = formats[format] as boolean | number | string | object;\n        const isActive =\n          value === input.getAttribute('value') ||\n          (value != null && value.toString() === input.getAttribute('value')) ||\n          (value == null && !input.getAttribute('value'));\n        input.classList.toggle('ql-active', isActive);\n        input.setAttribute('aria-pressed', isActive.toString());\n      } else {\n        const isActive = formats[format] != null;\n        input.classList.toggle('ql-active', isActive);\n        input.setAttribute('aria-pressed', isActive.toString());\n      }\n    });\n  }\n}\nToolbar.DEFAULTS = {};\n\nfunction addButton(container: HTMLElement, format: string, value?: string) {\n  const input = document.createElement('button');\n  input.setAttribute('type', 'button');\n  input.classList.add(`ql-${format}`);\n  input.setAttribute('aria-pressed', 'false');\n  if (value != null) {\n    input.value = value;\n    input.setAttribute('aria-label', `${format}: ${value}`);\n  } else {\n    input.setAttribute('aria-label', format);\n  }\n  container.appendChild(input);\n}\n\nfunction addControls(\n  container: HTMLElement,\n  groups:\n    | (string | Record<string, unknown>)[][]\n    | (string | Record<string, unknown>)[],\n) {\n  if (!Array.isArray(groups[0])) {\n    // @ts-expect-error\n    groups = [groups];\n  }\n  groups.forEach((controls: any) => {\n    const group = document.createElement('span');\n    group.classList.add('ql-formats');\n    controls.forEach((control: any) => {\n      if (typeof control === 'string') {\n        addButton(group, control);\n      } else {\n        const format = Object.keys(control)[0];\n        const value = control[format];\n        if (Array.isArray(value)) {\n          addSelect(group, format, value);\n        } else {\n          addButton(group, format, value);\n        }\n      }\n    });\n    container.appendChild(group);\n  });\n}\n\nfunction addSelect(\n  container: HTMLElement,\n  format: string,\n  values: Array<string | boolean>,\n) {\n  const input = document.createElement('select');\n  input.classList.add(`ql-${format}`);\n  values.forEach((value) => {\n    const option = document.createElement('option');\n    if (value !== false) {\n      option.setAttribute('value', String(value));\n    } else {\n      option.setAttribute('selected', 'selected');\n    }\n    input.appendChild(option);\n  });\n  container.appendChild(input);\n}\n\nToolbar.DEFAULTS = {\n  container: null,\n  handlers: {\n    clean() {\n      const range = this.quill.getSelection();\n      if (range == null) return;\n      if (range.length === 0) {\n        const formats = this.quill.getFormat();\n        Object.keys(formats).forEach((name) => {\n          // Clean functionality in existing apps only clean inline formats\n          if (this.quill.scroll.query(name, Scope.INLINE) != null) {\n            this.quill.format(name, false, Quill.sources.USER);\n          }\n        });\n      } else {\n        this.quill.removeFormat(range.index, range.length, Quill.sources.USER);\n      }\n    },\n    direction(value) {\n      const { align } = this.quill.getFormat();\n      if (value === 'rtl' && align == null) {\n        this.quill.format('align', 'right', Quill.sources.USER);\n      } else if (!value && align === 'right') {\n        this.quill.format('align', false, Quill.sources.USER);\n      }\n      this.quill.format('direction', value, Quill.sources.USER);\n    },\n    indent(value) {\n      const range = this.quill.getSelection();\n      // @ts-expect-error\n      const formats = this.quill.getFormat(range);\n      // @ts-expect-error\n      const indent = parseInt(formats.indent || 0, 10);\n      if (value === '+1' || value === '-1') {\n        let modifier = value === '+1' ? 1 : -1;\n        if (formats.direction === 'rtl') modifier *= -1;\n        this.quill.format('indent', indent + modifier, Quill.sources.USER);\n      }\n    },\n    link(value) {\n      if (value === true) {\n        value = prompt('Enter link URL:'); // eslint-disable-line no-alert\n      }\n      this.quill.format('link', value, Quill.sources.USER);\n    },\n    list(value) {\n      const range = this.quill.getSelection();\n      // @ts-expect-error\n      const formats = this.quill.getFormat(range);\n      if (value === 'check') {\n        if (formats.list === 'checked' || formats.list === 'unchecked') {\n          this.quill.format('list', false, Quill.sources.USER);\n        } else {\n          this.quill.format('list', 'unchecked', Quill.sources.USER);\n        }\n      } else {\n        this.quill.format('list', value, Quill.sources.USER);\n      }\n    },\n  },\n};\n\nexport { Toolbar as default, addControls };\n"],"mappings":"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","ignoreList":[]}]}