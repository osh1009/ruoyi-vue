{"remainingRequest":"E:\\workSpace\\RuoYi-Vue\\ruoyi-ui\\node_modules\\babel-loader\\lib\\index.js!E:\\workSpace\\RuoYi-Vue\\ruoyi-ui\\node_modules\\quill\\modules\\normalizeExternalHTML\\normalizers\\googleDocs.js","dependencies":[{"path":"E:\\workSpace\\RuoYi-Vue\\ruoyi-ui\\node_modules\\quill\\modules\\normalizeExternalHTML\\normalizers\\googleDocs.js","mtime":1734253477783},{"path":"E:\\workSpace\\RuoYi-Vue\\ruoyi-ui\\babel.config.js","mtime":1734161096606},{"path":"E:\\workSpace\\RuoYi-Vue\\ruoyi-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1734253476057},{"path":"E:\\workSpace\\RuoYi-Vue\\ruoyi-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":1734253476301}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCJFOi93b3JrU3BhY2UvUnVvWWktVnVlL3J1b3lpLXVpL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2ludGVyb3BSZXF1aXJlRGVmYXVsdC5qcyIpLmRlZmF1bHQ7Ck9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsKICB2YWx1ZTogdHJ1ZQp9KTsKZXhwb3J0cy5kZWZhdWx0ID0gbm9ybWFsaXplOwp2YXIgX3RvQ29uc3VtYWJsZUFycmF5MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiRTovd29ya1NwYWNlL1J1b1lpLVZ1ZS9ydW95aS11aS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy90b0NvbnN1bWFibGVBcnJheS5qcyIpKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlci5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZnJvbS5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMuanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IuanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5tYXRjaC5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXNuZXh0Lml0ZXJhdG9yLmNvbnN0cnVjdG9yLmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lc25leHQuaXRlcmF0b3IuZmlsdGVyLmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lc25leHQuaXRlcmF0b3IuZm9yLWVhY2guanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiKTsKdmFyIG5vcm1hbFdlaWdodFJlZ2V4cCA9IC9mb250LXdlaWdodDpccypub3JtYWwvOwp2YXIgYmxvY2tUYWdOYW1lcyA9IFsnUCcsICdPTCcsICdVTCddOwp2YXIgaXNCbG9ja0VsZW1lbnQgPSBmdW5jdGlvbiBpc0Jsb2NrRWxlbWVudChlbGVtZW50KSB7CiAgcmV0dXJuIGVsZW1lbnQgJiYgYmxvY2tUYWdOYW1lcy5pbmNsdWRlcyhlbGVtZW50LnRhZ05hbWUpOwp9Owp2YXIgbm9ybWFsaXplRW1wdHlMaW5lcyA9IGZ1bmN0aW9uIG5vcm1hbGl6ZUVtcHR5TGluZXMoZG9jKSB7CiAgQXJyYXkuZnJvbShkb2MucXVlcnlTZWxlY3RvckFsbCgnYnInKSkuZmlsdGVyKGZ1bmN0aW9uIChicikgewogICAgcmV0dXJuIGlzQmxvY2tFbGVtZW50KGJyLnByZXZpb3VzRWxlbWVudFNpYmxpbmcpICYmIGlzQmxvY2tFbGVtZW50KGJyLm5leHRFbGVtZW50U2libGluZyk7CiAgfSkuZm9yRWFjaChmdW5jdGlvbiAoYnIpIHsKICAgIHZhciBfYnIkcGFyZW50Tm9kZTsKICAgIChfYnIkcGFyZW50Tm9kZSA9IGJyLnBhcmVudE5vZGUpID09PSBudWxsIHx8IF9iciRwYXJlbnROb2RlID09PSB2b2lkIDAgfHwgX2JyJHBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYnIpOwogIH0pOwp9Owp2YXIgbm9ybWFsaXplRm9udFdlaWdodCA9IGZ1bmN0aW9uIG5vcm1hbGl6ZUZvbnRXZWlnaHQoZG9jKSB7CiAgQXJyYXkuZnJvbShkb2MucXVlcnlTZWxlY3RvckFsbCgnYltzdHlsZSo9ImZvbnQtd2VpZ2h0Il0nKSkuZmlsdGVyKGZ1bmN0aW9uIChub2RlKSB7CiAgICB2YXIgX25vZGUkZ2V0QXR0cmlidXRlOwogICAgcmV0dXJuIChfbm9kZSRnZXRBdHRyaWJ1dGUgPSBub2RlLmdldEF0dHJpYnV0ZSgnc3R5bGUnKSkgPT09IG51bGwgfHwgX25vZGUkZ2V0QXR0cmlidXRlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfbm9kZSRnZXRBdHRyaWJ1dGUubWF0Y2gobm9ybWFsV2VpZ2h0UmVnZXhwKTsKICB9KS5mb3JFYWNoKGZ1bmN0aW9uIChub2RlKSB7CiAgICB2YXIgX25vZGUkcGFyZW50Tm9kZTsKICAgIHZhciBmcmFnbWVudCA9IGRvYy5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7CiAgICBmcmFnbWVudC5hcHBlbmQuYXBwbHkoZnJhZ21lbnQsICgwLCBfdG9Db25zdW1hYmxlQXJyYXkyLmRlZmF1bHQpKG5vZGUuY2hpbGROb2RlcykpOwogICAgKF9ub2RlJHBhcmVudE5vZGUgPSBub2RlLnBhcmVudE5vZGUpID09PSBudWxsIHx8IF9ub2RlJHBhcmVudE5vZGUgPT09IHZvaWQgMCB8fCBfbm9kZSRwYXJlbnROb2RlLnJlcGxhY2VDaGlsZChmcmFnbWVudCwgbm9kZSk7CiAgfSk7Cn07CmZ1bmN0aW9uIG5vcm1hbGl6ZShkb2MpIHsKICBpZiAoZG9jLnF1ZXJ5U2VsZWN0b3IoJ1tpZF49ImRvY3MtaW50ZXJuYWwtZ3VpZC0iXScpKSB7CiAgICBub3JtYWxpemVGb250V2VpZ2h0KGRvYyk7CiAgICBub3JtYWxpemVFbXB0eUxpbmVzKGRvYyk7CiAgfQp9"},{"version":3,"names":["normalWeightRegexp","blockTagNames","isBlockElement","element","includes","tagName","normalizeEmptyLines","doc","Array","from","querySelectorAll","filter","br","previousElementSibling","nextElementSibling","forEach","_br$parentNode","parentNode","removeChild","normalizeFontWeight","node","_node$getAttribute","getAttribute","match","_node$parentNode","fragment","createDocumentFragment","append","apply","_toConsumableArray2","default","childNodes","replaceChild","normalize","querySelector"],"sources":["../../../../src/modules/normalizeExternalHTML/normalizers/googleDocs.ts"],"sourcesContent":["const normalWeightRegexp = /font-weight:\\s*normal/;\nconst blockTagNames = ['P', 'OL', 'UL'];\n\nconst isBlockElement = (element: Element | null) => {\n  return element && blockTagNames.includes(element.tagName);\n};\n\nconst normalizeEmptyLines = (doc: Document) => {\n  Array.from(doc.querySelectorAll('br'))\n    .filter(\n      (br) =>\n        isBlockElement(br.previousElementSibling) &&\n        isBlockElement(br.nextElementSibling),\n    )\n    .forEach((br) => {\n      br.parentNode?.removeChild(br);\n    });\n};\n\nconst normalizeFontWeight = (doc: Document) => {\n  Array.from(doc.querySelectorAll('b[style*=\"font-weight\"]'))\n    .filter((node) => node.getAttribute('style')?.match(normalWeightRegexp))\n    .forEach((node) => {\n      const fragment = doc.createDocumentFragment();\n      fragment.append(...node.childNodes);\n      node.parentNode?.replaceChild(fragment, node);\n    });\n};\n\nexport default function normalize(doc: Document) {\n  if (doc.querySelector('[id^=\"docs-internal-guid-\"]')) {\n    normalizeFontWeight(doc);\n    normalizeEmptyLines(doc);\n  }\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;AAAA,IAAMA,kBAAkB,GAAG,uBAAuB;AAClD,IAAMC,aAAa,GAAG,CAAC,GAAG,EAAE,IAAI,EAAE,IAAI,CAAC;AAEvC,IAAMC,cAAc,GAAI,SAAlBA,cAAcA,CAAIC,OAAuB,EAAK;EAClD,OAAOA,OAAO,IAAIF,aAAa,CAACG,QAAQ,CAACD,OAAO,CAACE,OAAO,CAAC;AAC3D,CAAC;AAED,IAAMC,mBAAmB,GAAI,SAAvBA,mBAAmBA,CAAIC,GAAa,EAAK;EAC7CC,KAAK,CAACC,IAAI,CAACF,GAAG,CAACG,gBAAgB,CAAC,IAAI,CAAC,CAAC,CACnCC,MAAM,CACJ,UAAAC,EAAE;IAAA,OACDV,cAAc,CAACU,EAAE,CAACC,sBAAsB,CAAC,IACzCX,cAAc,CAACU,EAAE,CAACE,kBAAkB,CACxC;EAAA,EAAC,CACAC,OAAO,CAAE,UAAAH,EAAE,EAAK;IAAA,IAAAI,cAAA;IACf,CAAAA,cAAA,GAAAJ,EAAE,CAACK,UAAU,cAAAD,cAAA,eAAbA,cAAA,CAAeE,WAAW,CAACN,EAAE,CAAC;EAChC,CAAC,CAAC;AACN,CAAC;AAED,IAAMO,mBAAmB,GAAI,SAAvBA,mBAAmBA,CAAIZ,GAAa,EAAK;EAC7CC,KAAK,CAACC,IAAI,CAACF,GAAG,CAACG,gBAAgB,CAAC,yBAAyB,CAAC,CAAC,CACxDC,MAAM,CAAE,UAAAS,IAAI;IAAA,IAAAC,kBAAA;IAAA,QAAAA,kBAAA,GAAKD,IAAI,CAACE,YAAY,CAAC,OAAO,CAAC,cAAAD,kBAAA,uBAA1BA,kBAAA,CAA4BE,KAAK,CAACvB,kBAAkB,CAAC;EAAA,EAAC,CACvEe,OAAO,CAAE,UAAAK,IAAI,EAAK;IAAA,IAAAI,gBAAA;IACjB,IAAMC,QAAQ,GAAGlB,GAAG,CAACmB,sBAAsB,CAAC,CAAC;IAC7CD,QAAQ,CAACE,MAAM,CAAAC,KAAA,CAAfH,QAAQ,MAAAI,mBAAA,CAAAC,OAAA,EAAWV,IAAI,CAACW,UAAU,EAAC;IACnC,CAAAP,gBAAA,GAAAJ,IAAI,CAACH,UAAU,cAAAO,gBAAA,eAAfA,gBAAA,CAAiBQ,YAAY,CAACP,QAAQ,EAAEL,IAAI,CAAC;EAC/C,CAAC,CAAC;AACN,CAAC;AAEc,SAASa,SAASA,CAAC1B,GAAa,EAAE;EAC/C,IAAIA,GAAG,CAAC2B,aAAa,CAAC,6BAA6B,CAAC,EAAE;IACpDf,mBAAmB,CAACZ,GAAG,CAAC;IACxBD,mBAAmB,CAACC,GAAG,CAAC;EAC1B;AACF","ignoreList":[]}]}